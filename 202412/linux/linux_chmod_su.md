
# chmod와 파일 권한 관리

리눅스와 유닉스 환경에서 파일과 디렉토리의 권한을 변경하는 것은 매우 중요함. 파일의 잘못된 권한 설정은 보안 문제를 초래할 수 있음. 

`chmod` 명령어는 이러한 파일과 디렉토리 권한을 효과적으로 변경할 수 있는 도구임. 이 글에서는 `chmod` 명령어 사용법과 octal 방식을 활용한 권한 설정 방법을 살펴봄.

---

## chmod 명령어 기본 사용법

`chmod`는 **change mode**의 약자로, 파일 또는 디렉토리의 **권한(mode)**을 변경함. 다음은 `chmod`의 일반적인 사용법임:

```bash
chmod [옵션] [권한] [파일]
```

여기서 권한을 나타내는 주요 기호는 다음과 같음:
- `u`: 소유자(user)
- `g`: 그룹(group)
- `o`: 다른 사용자(other)
- `a`: 모든 사용자(all)

### chmod 사용 예시

1. **그룹에 쓰기 권한 추가**:
   ```bash
   chmod g+w file.txt
   ```
   그룹 멤버에게 쓰기 권한을 부여함.

2. **모든 사용자 쓰기 권한 제거**:
   ```bash
   chmod a-w file.txt
   ```
   모든 사용자로부터 쓰기 권한을 제거함.

3. **소유자에게 실행 권한 부여**:
   ```bash
   chmod u+x file.txt
   ```
   파일 소유자에게 실행 권한을 부여함.

4. **모든 사용자 읽기 권한만 부여**:
   ```bash
   chmod a=r file.txt
   ```
   모든 사용자에게 읽기 권한만 부여함.

---

## chmod와 Octal 방식

`chmod` 명령어는 파일 권한을 숫자로 표현하는 **octal(8진수)** 방식도 지원함. 이 방식은 파일 권한을 간결하고 명확하게 설정할 수 있음.

### Octal 숫자의 의미

Octal 숫자는 3개의 이진수로 이루어지며, 각각의 자리수가 특정 권한을 나타냄:
- **4**: 읽기 권한 (read)
- **2**: 쓰기 권한 (write)
- **1**: 실행 권한 (execute)

숫자를 조합하여 여러 권한을 동시에 설정할 수 있음:
- `7` = 읽기(4) + 쓰기(2) + 실행(1) = `rwx`
- `6` = 읽기(4) + 쓰기(2) = `rw-`
- `5` = 읽기(4) + 실행(1) = `r-x`
- `0` = 권한 없음 = `---`

아래는 octal과 해당 권한의 매핑을 나타낸 표임:

| Octal | Binary | File Mode |
|-------|--------|-----------|
| 0     | 000    | ---       |
| 1     | 001    | --x       |
| 2     | 010    | -w-       |
| 3     | 011    | -wx       |
| 4     | 100    | r--       |
| 5     | 101    | r-x       |
| 6     | 110    | rw-       |
| 7     | 111    | rwx       |


### Octal 방식 사용 예시

1. **모든 사용자에게 읽기, 쓰기, 실행 권한 부여**:
   ```bash
   chmod 777 file.txt
   ```
   파일에 최대 권한을 부여함.

2. **소유자는 읽기/쓰기, 그룹은 읽기, 다른 사용자는 읽기 권한만 부여**:
   ```bash
   chmod 644 file.txt
   ```
   결과적으로:
   - 소유자: `rw-`
   - 그룹: `r--`
   - 다른 사용자: `r--`

---

## su 명령어 (substitute user)

`su` 명령어는 **substitute user**의 약자로, 현재 사용자를 다른 사용자로 전환함. 관리 목적으로 주로 `root` 사용자로 전환하는 데 사용됨.

### 사용법 예시

1. **다른 사용자로 전환**:
   ```bash
   su 유저이름
   ```

2. **root 사용자로 전환**:
   ```bash
   su
   ```
   비밀번호를 입력하면 root 권한을 얻을 수 있음.

---

## 결론

`chmod` 명령어는 리눅스 시스템에서 파일과 디렉토리의 권한을 효과적으로 관리할 수 있는 강력한 도구임. 

기본적인 문자 방식을 사용하거나, octal 방식을 활용하여 빠르게 권한을 설정할 수 있음. 또한, `su` 명령어를 통해 사용자 계정을 전환하여 시스템 관리 작업을 효율적으로 수행할 수 있음.